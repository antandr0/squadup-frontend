import{r as n,j as s,u as p,a as v}from"./index-1fd9636d.js";const b=()=>{const[a,t]=n.useState(!1),[c,m]=n.useState(!1),[u,l]=n.useState(""),[r,d]=n.useState([]),o=async()=>{if(a){t(!1),d([]);return}m(!0),setTimeout(()=>{m(!1),t(!0),d([{id:1,name:"1test",isYou:!0},{id:2,name:"ProPlayer"},{id:3,name:"CasualGamer"}]),l("room-"+Math.random().toString(36).substr(2,5))},2e3)},x=()=>c?"–ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ...":a?"–û—Ç–∫–ª—é—á–∏—Ç—å—Å—è":"–ü–æ–¥–∫–ª—é—á–∏—Ç—å—Å—è –∫ —á–∞—Ç—É",h=()=>c?"üîÑ":a?"üî¥":"üü¢";return s.jsx("div",{className:"voice-chat-container",children:s.jsxs("div",{className:"voice-chat-card",children:[s.jsxs("div",{className:"voice-chat-header",children:[s.jsx("h3",{className:"voice-chat-title",children:"–ì–æ–ª–æ—Å–æ–≤–æ–π —á–∞—Ç"}),s.jsxs("div",{className:"connection-status",children:[s.jsx("span",{className:`status-indicator ${a?"connected":"disconnected"}`,children:h()}),s.jsx("span",{className:"status-text",children:a?"–ü–æ–¥–∫–ª—é—á–µ–Ω":"–û—Ç–∫–ª—é—á–µ–Ω"})]})]}),s.jsxs("div",{className:"voice-chat-content",children:[a&&s.jsxs("div",{className:"room-info",children:[s.jsxs("div",{className:"room-id",children:[s.jsx("strong",{children:"–ö–æ–º–Ω–∞—Ç–∞:"})," ",u]}),s.jsxs("div",{className:"participants",children:[s.jsx("strong",{children:"–£—á–∞—Å—Ç–Ω–∏–∫–∏:"}),s.jsx("div",{className:"participants-list",children:r.map(i=>s.jsxs("div",{className:"participant",children:[s.jsxs("span",{className:"participant-name",children:[i.name,i.isYou&&" (–í—ã)"]}),s.jsx("span",{className:"participant-status",children:(i.isYou,"–í —Å–µ—Ç–∏")})]},i.id))})]})]}),s.jsx("div",{className:"voice-chat-button",children:s.jsxs("button",{className:`connect-btn ${a?"connected":""} ${c?"connecting":""}`,onClick:o,disabled:c,children:[s.jsx("span",{className:"btn-icon",children:h()}),s.jsx("span",{className:"btn-text",children:x()})]})})]})]})})};const g=()=>{var j;const{user:a}=p(),[t,c]=n.useState([]),[m,u]=n.useState({matchesPlayed:null,winRate:null,friendsCount:null,rating:null,onlineTime:"2—á 15–º"}),[l,r]=n.useState("teammates"),[d,o]=n.useState(!0);n.useEffect(()=>{x()},[]);const x=async()=>{try{if(o(!0),console.log("üîÑ Dashboard: –ù–∞—á–∏–Ω–∞–µ–º –∑–∞–≥—Ä—É–∑–∫—É –¥–∞–Ω–Ω—ã—Ö..."),!v){console.error("‚ùå Dashboard: apiService –Ω–µ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω");return}console.log("‚úÖ Dashboard: apiService –¥–æ—Å—Ç—É–ø–µ–Ω");const e=await v.getProfiles();console.log("üìä Dashboard: –ü–æ–ª—É—á–µ–Ω—ã –¥–∞–Ω–Ω—ã–µ:",e),e&&Array.isArray(e)?(c(e.slice(0,6)),console.log(`‚úÖ Dashboard: –£—Å–ø–µ—à–Ω–æ –∑–∞–≥—Ä—É–∂–µ–Ω–æ ${e.length} –ø—Ä–æ—Ñ–∏–ª–µ–π`)):console.warn("‚ö†Ô∏è  Dashboard: –ü–æ–ª—É—á–µ–Ω—ã –Ω–µ–∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ"),u({matchesPlayed:null,winRate:null,friendsCount:null,rating:null,onlineTime:"2—á 15–º"})}catch(e){console.error("Dashboard: Error loading data:",e)}finally{o(!1)}},h=()=>{r("teammates"),document.getElementById("online-players").scrollIntoView({behavior:"smooth"})},i=()=>{r("friends"),alert('–í–∫–ª–∞–¥–∫–∞ "–î—Ä—É–∑—å—è" —Å–∫–æ—Ä–æ –±—É–¥–µ—Ç –¥–æ—Å—Ç—É–ø–Ω–∞!')};return a?s.jsx("section",{className:"user-dashboard",children:s.jsxs("div",{className:"dashboard-container",children:[s.jsx("div",{className:"dashboard-header",children:s.jsxs("h1",{className:"dashboard-title",children:["–î–æ–±—Ä–æ –ø–æ–∂–∞–ª–æ–≤–∞—Ç—å, ",s.jsx("span",{className:"user-highlight",children:a.nickname}),"!"]})}),s.jsxs("div",{className:"dashboard-content",children:[s.jsxs("div",{className:"user-card enhanced",children:[s.jsx("div",{className:"user-avatar",children:(j=a.nickname)==null?void 0:j.charAt(0).toUpperCase()}),s.jsxs("div",{className:"user-info",children:[s.jsx("h3",{className:"user-name",children:a.nickname}),s.jsx("p",{className:"user-email",children:a.email}),s.jsxs("div",{className:"user-stats-grid",children:[s.jsxs("div",{className:"stat-item",children:[s.jsx("span",{className:"stat-value",children:"--"}),s.jsx("span",{className:"stat-label",children:"–º–∞—Ç—á–µ–π"})]}),s.jsxs("div",{className:"stat-item",children:[s.jsx("span",{className:"stat-value",children:"--"}),s.jsx("span",{className:"stat-label",children:"–ø–æ–±–µ–¥"})]}),s.jsxs("div",{className:"stat-item",children:[s.jsx("span",{className:"stat-value",children:"--"}),s.jsx("span",{className:"stat-label",children:"–¥—Ä—É–∑–µ–π"})]}),s.jsxs("div",{className:"stat-item",children:[s.jsx("span",{className:"stat-value",children:"--"}),s.jsx("span",{className:"stat-label",children:"—Ä–µ–π—Ç–∏–Ω–≥"})]})]})]}),s.jsxs("div",{className:"user-status",children:[s.jsx("span",{className:"status-indicator online"}),s.jsx("span",{className:"status-text",children:"–í —Å–µ—Ç–∏"})]})]}),s.jsxs("div",{className:"dashboard-tabs",children:[s.jsx("button",{className:`tab-button ${l==="teammates"?"active":""}`,onClick:h,children:"–ù–∞–π—Ç–∏ —Ç–∏–º–º–µ–π—Ç–æ–≤"}),s.jsx("button",{className:`tab-button ${l==="friends"?"active":""}`,onClick:i,children:"–ú–æ–∏ –¥—Ä—É–∑—å—è"})]}),s.jsx("div",{className:"voice-chat-section",children:s.jsx(b,{})}),s.jsxs("div",{className:"online-players-section",id:"online-players",children:[s.jsxs("h2",{className:"section-title",children:["–û–Ω–ª–∞–π–Ω –∏–≥—Ä–æ–∫–∏ ",s.jsxs("span",{className:"online-count",children:["(",t.filter(e=>e.online).length,")"]})]}),d?s.jsx("div",{className:"loading-spinner",children:"–ó–∞–≥—Ä—É–∑–∫–∞..."}):t.length>0?s.jsx("div",{className:"players-grid",children:t.map(e=>{var N;return s.jsxs("div",{className:"player-card",children:[s.jsx("div",{className:"player-avatar",children:(N=e.nickname)==null?void 0:N.charAt(0).toUpperCase()}),s.jsxs("div",{className:"player-info",children:[s.jsx("h4",{className:"player-name",children:e.nickname||e.email}),s.jsxs("div",{className:"player-meta",children:[s.jsx("span",{className:`player-status ${e.online?"online":"offline"}`,children:e.online?"–í —Å–µ—Ç–∏":"–ù–µ –≤ —Å–µ—Ç–∏"}),s.jsx("span",{className:"player-game",children:"CS2"})]})]}),s.jsx("button",{className:"invite-button",children:"–ü—Ä–∏–≥–ª–∞—Å–∏—Ç—å"})]},e.id)})}):s.jsx("div",{className:"empty-state",children:s.jsx("p",{children:"–ù–µ—Ç –æ–Ω–ª–∞–π–Ω –∏–≥—Ä–æ–∫–æ–≤ –≤ –¥–∞–Ω–Ω—ã–π –º–æ–º–µ–Ω—Ç"})})]})]})]})}):null};export{g as default};
